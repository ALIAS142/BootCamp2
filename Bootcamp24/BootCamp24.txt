<html><head><meta charset="UTF-8"><meta name="color-scheme" content="light dark"></head><body><div class="line-gutter-backdrop"></div><form autocomplete="off"><label class="line-wrap-control">Line wrap<input type="checkbox" aria-label="Line wrap"></label></form><table><tbody><tr><td class="line-number" value="1"></td><td class="line-content">from random import randint</td></tr><tr><td class="line-number" value="2"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="3"></td><td class="line-content">'''</td></tr><tr><td class="line-number" value="4"></td><td class="line-content">СЃРґРµР»Р°РµРј РєР»Р°СЃСЃ Chromosome, Сѓ РєРѕС‚РѕСЂРѕРіРѕ Р±СѓРґРµС‚ С‚СЂРё СЃРІРѕР№СЃС‚РІР°:</td></tr><tr><td class="line-number" value="5"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="6"></td><td class="line-content">rating вЂ“ СЂРµР№С‚РёРЅРі С…СЂРѕРјРѕСЃРѕРјС‹</td></tr><tr><td class="line-number" value="7"></td><td class="line-content">size вЂ“ СЂР°Р·РјРµСЂ С…СЂРѕРјРѕСЃРѕРјС‹ (РґР»РёРЅР° РјР°СЃСЃРёРІР° РіРµРЅРѕРІ)</td></tr><tr><td class="line-number" value="8"></td><td class="line-content">genes вЂ“ РјР°СЃСЃРёРІ РіРµРЅРѕРІ С…СЂРѕРјРѕСЃРѕРјС‹ (С‚Рѕ, С‡С‚Рѕ СЂР°РЅСЊС€Рµ Р±С‹Р»Рѕ СЃР°РјРѕР№ С…СЂРѕРјРѕСЃРѕРјРѕР№)</td></tr><tr><td class="line-number" value="9"></td><td class="line-content">'''</td></tr><tr><td class="line-number" value="10"></td><td class="line-content">class Chromosome:</td></tr><tr><td class="line-number" value="11"></td><td class="line-content">    def __init__(self, size, gene_pool):</td></tr><tr><td class="line-number" value="12"></td><td class="line-content">        self.rating = 0</td></tr><tr><td class="line-number" value="13"></td><td class="line-content">        self.size = size</td></tr><tr><td class="line-number" value="14"></td><td class="line-content">        self.genes = bytearray(size)</td></tr><tr><td class="line-number" value="15"></td><td class="line-content">        if gene_pool is not None:</td></tr><tr><td class="line-number" value="16"></td><td class="line-content">            self.set_random_genes(gene_pool)</td></tr><tr><td class="line-number" value="17"></td><td class="line-content">    '''</td></tr><tr><td class="line-number" value="18"></td><td class="line-content">    РўРµРїРµСЂСЊ РЅР°РїРёС€РµРј С„СѓРЅРєС†РёСЋ РґР»СЏ РіРµРЅРµСЂР°С†РёРё СЃР»СѓС‡Р°Р№РЅРѕР№ С…СЂРѕРјРѕСЃРѕРјС‹. Р¤СѓРЅРєС†РёСЏ РїСЂРёРЅРёРјР°РµС‚ РґРІР° РїР°СЂР°РјРµС‚СЂР°:</td></tr><tr><td class="line-number" value="19"></td><td class="line-content">    РґР»РёРЅР° С…СЂРѕРјРѕСЃРѕРјС‹, РєРѕС‚РѕСЂСѓСЋ РЅР°РґРѕ РїРѕР»СѓС‡РёС‚СЊ, Рё РЅР°Р±РѕСЂ РіРµРЅРѕРІ, РёР· РєРѕС‚РѕСЂРѕРіРѕ РЅСѓР¶РЅРѕ СЃРґРµР»Р°С‚СЊ С…СЂРѕРјРѕСЃРѕРјСѓ.</td></tr><tr><td class="line-number" value="20"></td><td class="line-content">    '''</td></tr><tr><td class="line-number" value="21"></td><td class="line-content">    def set_random_genes(self, gene_pool):</td></tr><tr><td class="line-number" value="22"></td><td class="line-content">        gene_pool_range = len(gene_pool) - 1</td></tr><tr><td class="line-number" value="23"></td><td class="line-content">        for i in range(self.size):</td></tr><tr><td class="line-number" value="24"></td><td class="line-content">            rand_pos = randint(0, gene_pool_range)</td></tr><tr><td class="line-number" value="25"></td><td class="line-content">            self.genes[i] = gene_pool[rand_pos]</td></tr><tr><td class="line-number" value="26"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="27"></td><td class="line-content">def create_population(pop_size, chromo_size, genes):</td></tr><tr><td class="line-number" value="28"></td><td class="line-content">    '''</td></tr><tr><td class="line-number" value="29"></td><td class="line-content">    Р’ С„СѓРЅРєС†РёСЋ Р·Р°РїРѕР»РЅРµРЅРёСЏ РїРѕРїСѓР»СЏС†РёРё РјС‹ С‚Р°РєР¶Рµ РїРµСЂРµРґР°С‘Рј СЂР°Р·РјРµСЂ РїРѕРїСѓР»СЏС†РёРё,</td></tr><tr><td class="line-number" value="30"></td><td class="line-content">    СЂР°Р·РјРµСЂ С…СЂРѕРјРѕСЃРѕРјС‹ Рё РіРµРЅРѕС„РѕРЅРґ, С‡С‚РѕР±С‹ РЅРµ Р·Р°РІРёСЃРµС‚СЊ РѕС‚ РіР»РѕР±Р°Р»СЊРЅС‹С… РїРµСЂРµРјРµРЅРЅС‹С….</td></tr><tr><td class="line-number" value="31"></td><td class="line-content">    РџРѕРґР±РѕСЂ РїР°СЂ</td></tr><tr><td class="line-number" value="32"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="33"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="34"></td><td class="line-content">    '''</td></tr><tr><td class="line-number" value="35"></td><td class="line-content">    population = [None] * pop_size</td></tr><tr><td class="line-number" value="36"></td><td class="line-content">    for i in range(pop_size):</td></tr><tr><td class="line-number" value="37"></td><td class="line-content">        population[i] = Chromosome(chromo_size, gene_pool)</td></tr><tr><td class="line-number" value="38"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="39"></td><td class="line-content">    return population</td></tr><tr><td class="line-number" value="40"></td><td class="line-content">'''</td></tr><tr><td class="line-number" value="41"></td><td class="line-content">С„СѓРЅРєС†РёСЏ РґР»СЏ РІС‹С‡РёСЃР»РµРЅРёСЏ СЂРµР№С‚РёРЅРіР° вЂ“ СЂР°СЃСЃС‚РѕСЏРЅРёСЏ РјРµР¶РґСѓ РґРІСѓРјСЏ СЃС‚СЂРѕРєР°РјРё.</td></tr><tr><td class="line-number" value="42"></td><td class="line-content">РќР°РїРёС€РµРј СЃСЂР°Р·Сѓ РґР»СЏ РІСЃРµР№ РїРѕРїСѓР»СЏС†РёРё, С‚Р°Рє РєР°Рє РґСЂСѓРіРёС… РїСЂРёРјРµРЅРµРЅРёР№ Сѓ РЅРµС‘ РЅРµС‚:</td></tr><tr><td class="line-number" value="43"></td><td class="line-content">'''</td></tr><tr><td class="line-number" value="44"></td><td class="line-content">def calc_rating(population, final_chromo):</td></tr><tr><td class="line-number" value="45"></td><td class="line-content">    for chromo in population:</td></tr><tr><td class="line-number" value="46"></td><td class="line-content">        chromo.rating = chromo.size</td></tr><tr><td class="line-number" value="47"></td><td class="line-content">        for i in range(chromo.size):</td></tr><tr><td class="line-number" value="48"></td><td class="line-content">            if chromo.genes[i] == final_chromo[i]:</td></tr><tr><td class="line-number" value="49"></td><td class="line-content">                chromo.rating -= 1</td></tr><tr><td class="line-number" value="50"></td><td class="line-content">'''</td></tr><tr><td class="line-number" value="51"></td><td class="line-content">СЃРґРµР»Р°РµРј СЃРѕСЂС‚РёСЂРѕРІРєСѓ С…СЂРѕРјРѕСЃРѕРј РїРѕ СЂРµР№С‚РёРЅРіСѓ. Р&shy;С‚Рѕ РѕР±С‹С‡РЅР°СЏ СЃРѕСЂС‚РёСЂРѕРІРєР° РїСѓР·С‹СЂСЊРєРѕРј:</td></tr><tr><td class="line-number" value="52"></td><td class="line-content">'''</td></tr><tr><td class="line-number" value="53"></td><td class="line-content">def sort_population(population):</td></tr><tr><td class="line-number" value="54"></td><td class="line-content">    size = len(population)</td></tr><tr><td class="line-number" value="55"></td><td class="line-content">    repeat = True</td></tr><tr><td class="line-number" value="56"></td><td class="line-content">    while repeat:</td></tr><tr><td class="line-number" value="57"></td><td class="line-content">        repeat = False</td></tr><tr><td class="line-number" value="58"></td><td class="line-content">        for i in range(0, size - 1):</td></tr><tr><td class="line-number" value="59"></td><td class="line-content">            bubble = population[i]</td></tr><tr><td class="line-number" value="60"></td><td class="line-content">            if (bubble.rating &gt; population[i + 1].rating):</td></tr><tr><td class="line-number" value="61"></td><td class="line-content">                population[i] = population[i + 1]</td></tr><tr><td class="line-number" value="62"></td><td class="line-content">                population[i + 1] = bubble</td></tr><tr><td class="line-number" value="63"></td><td class="line-content">                repeat = True</td></tr><tr><td class="line-number" value="64"></td><td class="line-content">    </td></tr><tr><td class="line-number" value="65"></td><td class="line-content">def select(population, survivors):</td></tr><tr><td class="line-number" value="66"></td><td class="line-content">    # elitism selection</td></tr><tr><td class="line-number" value="67"></td><td class="line-content">    size = len(survivors)</td></tr><tr><td class="line-number" value="68"></td><td class="line-content">    for i in range(size):</td></tr><tr><td class="line-number" value="69"></td><td class="line-content">        survivors[i] = population[i]</td></tr><tr><td class="line-number" value="70"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="71"></td><td class="line-content">def repopulate(population, parents, children_count):</td></tr><tr><td class="line-number" value="72"></td><td class="line-content">    '''</td></tr><tr><td class="line-number" value="73"></td><td class="line-content">    РўРµРїРµСЂСЊ, РёРјРµСЏ С„СѓРЅРєС†РёРё РґР»СЏ РІС‹Р±РѕСЂР° СЂРѕРґРёС‚РµР»РµР№ Рё РґР»СЏ СЃРєСЂРµС‰РёРІР°РЅРёСЏ, РїРёС€РµРј С„СѓРЅРєС†РёСЋ,</td></tr><tr><td class="line-number" value="74"></td><td class="line-content">    РєРѕС‚РѕСЂР°СЏ Р·Р°РїРѕР»РЅСЏРµС‚ РІС‚РѕСЂСѓСЋ РїРѕР»РѕРІРёРЅСѓ РїРѕРїСѓР»СЏС†РёРё РїРѕС‚РѕРјРєР°РјРё (СЂРѕРґРёС‚РµР»Рё СЃРѕС…СЂР°РЅСЏСЋС‚СЃСЏ РІ РїРµСЂРІРѕР№ РїРѕР»РѕРІРёРЅРµ)</td></tr><tr><td class="line-number" value="75"></td><td class="line-content">    '''</td></tr><tr><td class="line-number" value="76"></td><td class="line-content">    pop_size = len(population)</td></tr><tr><td class="line-number" value="77"></td><td class="line-content">    while children_count &lt; pop_size:</td></tr><tr><td class="line-number" value="78"></td><td class="line-content">        p1_pos = get_parent_index(parents, None)</td></tr><tr><td class="line-number" value="79"></td><td class="line-content">        p2_pos = get_parent_index(parents, p1_pos)</td></tr><tr><td class="line-number" value="80"></td><td class="line-content">        p1 = parents[p1_pos]</td></tr><tr><td class="line-number" value="81"></td><td class="line-content">        p2 = parents[p2_pos]</td></tr><tr><td class="line-number" value="82"></td><td class="line-content">        population[children_count] = cross(p1, p2)</td></tr><tr><td class="line-number" value="83"></td><td class="line-content">        population[children_count + 1] = cross(p2, p1)</td></tr><tr><td class="line-number" value="84"></td><td class="line-content">        children_count += 2</td></tr><tr><td class="line-number" value="85"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="86"></td><td class="line-content">def get_parent_index(parents, exclude_index):</td></tr><tr><td class="line-number" value="87"></td><td class="line-content">    '''</td></tr><tr><td class="line-number" value="88"></td><td class="line-content">    CСЂРµРґРё РІС‹Р¶РёРІС€РёС… РЅСѓР¶РЅРѕ РѕС‚РѕР±СЂР°С‚СЊ РїР°СЂС‹ СЂРѕРґРёС‚РµР»РµР№, РґР»СЏ С‚РѕРіРѕ С‡С‚РѕР±С‹ РїРѕР»СѓС‡РёС‚СЊ</td></tr><tr><td class="line-number" value="89"></td><td class="line-content">    РѕС‚ РЅРёС… РїРѕС‚РѕРјРєРѕРІ Рё РІРѕСЃСЃС‚Р°РЅРѕРІРёС‚СЊ РІС‚РѕСЂСѓСЋ РїРѕР»РѕРІРёРЅСѓ РїРѕРїСѓР»СЏС†РёРё</td></tr><tr><td class="line-number" value="90"></td><td class="line-content">    '''</td></tr><tr><td class="line-number" value="91"></td><td class="line-content">    size = len(parents)</td></tr><tr><td class="line-number" value="92"></td><td class="line-content">    while True:</td></tr><tr><td class="line-number" value="93"></td><td class="line-content">        index = randint(0, size - 1)</td></tr><tr><td class="line-number" value="94"></td><td class="line-content">        if exclude_index is None or exclude_index != index:</td></tr><tr><td class="line-number" value="95"></td><td class="line-content">            return index</td></tr><tr><td class="line-number" value="96"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="97"></td><td class="line-content">def cross(chromo1, chromo2):</td></tr><tr><td class="line-number" value="98"></td><td class="line-content">    '''</td></tr><tr><td class="line-number" value="99"></td><td class="line-content">    РџРѕР»СѓС‡РёРІ РґРІСѓС… СЂРѕРґРёС‚РµР»РµР№, РјС‹ РјРѕР¶РµРј РїСЂРѕРІРµСЃС‚Рё СЃРєСЂРµС‰РёРІР°РЅРёРµ.</td></tr><tr><td class="line-number" value="100"></td><td class="line-content">    Р•РіРѕ СЃСѓС‚СЊ РІ С‚РѕРј, С‡С‚РѕР±С‹ РєР°РєРёРј-С‚Рѕ РѕР±СЂР°Р·РѕРј РїРµСЂРµРјРµС€Р°С‚СЊ РіРµРЅС‹ РґРІСѓС… СЂРѕРґРёС‚РµР»РµР№ Рё РїРѕР»СѓС‡РёС‚СЊ РЅРѕРІСѓСЋ С…СЂРѕРјРѕСЃРѕРјСѓ-РїРѕС‚РѕРјРєР°.</td></tr><tr><td class="line-number" value="101"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="102"></td><td class="line-content">    Р—РґРµСЃСЊ С‚Р°РєР¶Рµ РµСЃС‚СЊ РєСѓС‡Р° РјРµС‚РѕРґРѕРІ, Рё РјС‹ РѕРїСЏС‚СЊ РІРѕР·СЊРјС‘Рј С‡С‚Рѕ РїРѕРїСЂРѕС‰Рµ. Р&shy;С‚Рѕ Р±СѓРґРµС‚ РѕРґРЅРѕС‚РѕС‡РµС‡РЅС‹Р№ РєСЂРѕСЃСЃРёРЅРіРѕРІРµСЂ.</td></tr><tr><td class="line-number" value="103"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="104"></td><td class="line-content">    РњС‹ РІС‹Р±РёСЂР°РµРј СЃР»СѓС‡Р°Р№РЅСѓСЋ РїРѕР·РёС†РёСЋ РІРЅСѓС‚СЂРё С…СЂРѕРјРѕСЃРѕРјС‹, Рё РїРѕС‚РѕРјРѕРє РїРѕР»СѓС‡Р°РµС‚ РіРµРЅС‹ СЂРѕРґРёС‚РµР»СЏ в„–1 РѕС‚ РЅР°С‡Р°Р»Р° Рё РґРѕ СЌС‚РѕР№ РїРѕР·РёС†РёРё,</td></tr><tr><td class="line-number" value="105"></td><td class="line-content">    Рё РіРµРЅС‹ СЂРѕРґРёС‚РµР»СЏ в„–2 РѕС‚ СЌС‚РѕР№ РїРѕР·РёС†РёРё Рё РґРѕ РєРѕРЅС†Р°.</td></tr><tr><td class="line-number" value="106"></td><td class="line-content">    </td></tr><tr><td class="line-number" value="107"></td><td class="line-content">    РљР°Р¶РґС‹Рµ РґРІР° СЂРѕРґРёС‚РµР»СЏ РїРѕСЂРѕР¶РґР°СЋС‚ РїР°СЂСѓ РїРѕС‚РѕРјРєРѕРІ. РўРѕ РµСЃС‚СЊ С„СѓРЅРєС†РёСЋ cross()</td></tr><tr><td class="line-number" value="108"></td><td class="line-content">    РјС‹ РІС‹Р·С‹РІР°РµРј РґРІР°Р¶РґС‹: СЃРЅР°С‡Р°Р»Р° СЃ (СЂРѕРґРёС‚РµР»СЊ1, СЂРѕРґРёС‚РµР»СЊ2), Р·Р°С‚РµРј СЃ (СЂРѕРґРёС‚РµР»СЊ2, СЂРѕРґРёС‚РµР»СЊ1).</td></tr><tr><td class="line-number" value="109"></td><td class="line-content">    '''</td></tr><tr><td class="line-number" value="110"></td><td class="line-content">    size = chromo1.size</td></tr><tr><td class="line-number" value="111"></td><td class="line-content">    point = randint(0, size - 1)</td></tr><tr><td class="line-number" value="112"></td><td class="line-content">    child = Chromosome(size, None)</td></tr><tr><td class="line-number" value="113"></td><td class="line-content">    for i in range(point):</td></tr><tr><td class="line-number" value="114"></td><td class="line-content">        child.genes[i] = chromo1.genes[i]</td></tr><tr><td class="line-number" value="115"></td><td class="line-content">    for i in range(point, size):</td></tr><tr><td class="line-number" value="116"></td><td class="line-content">        child.genes[i] = chromo2.genes[i]</td></tr><tr><td class="line-number" value="117"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="118"></td><td class="line-content">    return child</td></tr><tr><td class="line-number" value="119"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="120"></td><td class="line-content">def mutate(population, chromo_count, gene_count, gene_pool):</td></tr><tr><td class="line-number" value="121"></td><td class="line-content">    '''</td></tr><tr><td class="line-number" value="122"></td><td class="line-content">    РјРѕР¶РЅРѕ РїРѕРґРІРµСЂРіР°С‚СЊ РјСѓС‚Р°С†РёРё С…РѕС‚СЊ 50% РїРѕРїСѓР»СЏС†РёРё,</td></tr><tr><td class="line-number" value="123"></td><td class="line-content">    РЅРѕ РІРѕС‚ РєРѕР»РёС‡РµСЃС‚РІРѕ РіРµРЅРѕРІ Р»СѓС‡С€Рµ Р·Р°РґР°С‚СЊ 1.</td></tr><tr><td class="line-number" value="124"></td><td class="line-content">    Р&shy;С‚Рѕ Р·РЅР°С‡РёС‚, С‡С‚Рѕ Р·Р° 1 СЂР°Р· РјСѓС‚РёСЂСѓРµС‚ С‚РѕР»СЊРєРѕ РѕРґРёРЅ СЃРёРјРІРѕР» РІ СЃС‚СЂРѕРєРµ.</td></tr><tr><td class="line-number" value="125"></td><td class="line-content">    Р‘С‹Р»Рё РЅРµСЂРµРґРєРё СЃР»СѓС‡Р°Рё, РєРѕРіРґР° СЃС‚СЂРѕРєР° Р±С‹Р»Р° СѓР¶Рµ РїРѕС‡С‚Рё РїСЂР°РІРёР»СЊРЅР°СЏ,</td></tr><tr><td class="line-number" value="126"></td><td class="line-content">    С‚Рѕ РµСЃС‚СЊ РѕС‚Р»РёС‡Р°Р»Р°СЃСЊ РІСЃРµРіРѕ РѕРґРЅРёРј СЃРёРјРІРѕР»РѕРј, РЅРѕ РµСЃР»Рё РїРѕСЃР»Рµ РјСѓС‚Р°С†РёРё</td></tr><tr><td class="line-number" value="127"></td><td class="line-content">    РІ РЅРµР№ РјРµРЅСЏРµС‚СЃСЏ Р±РѕР»СЊС€Рµ С‡РµРј РѕРґРёРЅ СЃРёРјРІРѕР», РјС‹ РЅР°РѕР±РѕСЂРѕС‚ СѓРґР°Р»СЏРµРјСЃСЏ РѕС‚ С†РµР»Рё.</td></tr><tr><td class="line-number" value="128"></td><td class="line-content">    '''</td></tr><tr><td class="line-number" value="129"></td><td class="line-content">    pop_size = len(population)</td></tr><tr><td class="line-number" value="130"></td><td class="line-content">    gene_pool_size = len(gene_pool)</td></tr><tr><td class="line-number" value="131"></td><td class="line-content">    for i in range(chromo_count):</td></tr><tr><td class="line-number" value="132"></td><td class="line-content">        chromo_pos = randint(0, pop_size - 1)</td></tr><tr><td class="line-number" value="133"></td><td class="line-content">        chromo = population[chromo_pos]</td></tr><tr><td class="line-number" value="134"></td><td class="line-content">        for j in range(gene_count):</td></tr><tr><td class="line-number" value="135"></td><td class="line-content">            gene_pos = randint(0, gene_pool_size - 1)</td></tr><tr><td class="line-number" value="136"></td><td class="line-content">            gene = gene_pool[gene_pos]</td></tr><tr><td class="line-number" value="137"></td><td class="line-content">            gene_pos = randint(0, chromo.size - 1)</td></tr><tr><td class="line-number" value="138"></td><td class="line-content">            chromo.genes[gene_pos] = gene</td></tr><tr><td class="line-number" value="139"></td><td class="line-content">'''</td></tr><tr><td class="line-number" value="140"></td><td class="line-content">РґР»СЏ СЃРѕР±СЃС‚РІРµРЅРЅРѕРіРѕ СѓРґРѕР±СЃС‚РІР° СЃРґРµР»Р°РµРј Р±РѕР»РµРµ Р°РєРєСѓСЂР°С‚РЅС‹Р№ РІС‹РІРѕРґ РїРѕРїСѓР»СЏС†РёРё РЅР° РїРµС‡Р°С‚СЊ СЃ РїРѕСЂСЏРґРєРѕРІС‹Рј РЅРѕРјРµСЂРѕРј Рё СЂРµР№С‚РёРЅРіРѕРј:</td></tr><tr><td class="line-number" value="141"></td><td class="line-content">'''</td></tr><tr><td class="line-number" value="142"></td><td class="line-content">def print_population(population):</td></tr><tr><td class="line-number" value="143"></td><td class="line-content">    i = 0</td></tr><tr><td class="line-number" value="144"></td><td class="line-content">    for chromo in population:</td></tr><tr><td class="line-number" value="145"></td><td class="line-content">        i += 1</td></tr><tr><td class="line-number" value="146"></td><td class="line-content">        print(str(i) + '. ' + str(chromo.rating) + ': ' + chromo.genes.decode())</td></tr><tr><td class="line-number" value="147"></td><td class="line-content">'''</td></tr><tr><td class="line-number" value="148"></td><td class="line-content">Р“РµРЅРѕС„РѕРЅРґ вЂ“ СЌС‚Рѕ СЃС‚СЂРѕРєР°-СЃРїСЂР°РІРѕС‡РЅРёРє, РєРѕС‚РѕСЂР°СЏ СЃРѕРґРµСЂР¶РёС‚ РІСЃРµ РІРѕР·РјРѕР¶РЅС‹Рµ РіРµРЅС‹. Р•РіРѕ Рё С„РёРЅР°Р»СЊРЅСѓСЋ СЃС‚СЂРѕРєСѓ</td></tr><tr><td class="line-number" value="149"></td><td class="line-content">(Р±СѓРґРµРј С‚РµРїРµСЂСЊ РіРѕРІРѕСЂРёС‚СЊ РїРѕ-РЅР°СѓС‡РЅРѕРјСѓ: С…СЂРѕРјРѕСЃРѕРјСѓ) РјС‹ Р·Р°РєРѕРґРёСЂСѓРµРј РІ Р±Р°Р№С‚РѕРІС‹Рµ РјР°СЃСЃРёРІС‹</td></tr><tr><td class="line-number" value="150"></td><td class="line-content">'''</td></tr><tr><td class="line-number" value="151"></td><td class="line-content">gene_pool = bytearray(b'abcdefghijklmnopqrstuvwxyz ') #РµСЃР»Рё С…РѕС‚РёС‚Рµ РїРѕ - СЂСѓСЃСЃРєРё С‚Рѕ СЃС‚Р°РІРёС‚Рµ СЃСЋРґР° РІРµСЃСЊ СЂСѓСЃСЃРєРёР№ Р°Р»С„Р°РІРёС‚</td></tr><tr><td class="line-number" value="152"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="153"></td><td class="line-content">final_chromo = bytearray(b'i love geekbrains and chess and games') #С†РµР»РµРІР°СЏ С„СЂР°Р·Р°</td></tr><tr><td class="line-number" value="154"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="155"></td><td class="line-content">chromo_size = len(final_chromo)</td></tr><tr><td class="line-number" value="156"></td><td class="line-content">population_size = 20</td></tr><tr><td class="line-number" value="157"></td><td class="line-content">'''</td></tr><tr><td class="line-number" value="158"></td><td class="line-content">Р’ РЅР°С€РµРј СЃР»СѓС‡Р°Рµ РјС‹ РґР»СЏ СЃРµР»РµРєС†РёРё РІРѕР·СЊРјРµРј РјРµС‚РѕРґ СЌР»РёС‚. РЈ РЅР°СЃ Р±СѓРґРµС‚ СЌР»РёС‚Р° РІ РІРёРґРµ Р»СѓС‡С€РµР№ РїРѕР»РѕРІРёРЅС‹ РїРѕРїСѓР»СЏС†РёРё,</td></tr><tr><td class="line-number" value="159"></td><td class="line-content">РєРѕС‚РѕСЂР°СЏ Р±СѓРґРµС‚ РїРµСЂРµС…РѕРґРёС‚СЊ РІ РЅРѕРІСѓСЋ РїРѕРїСѓР»СЏС†РёСЋ Рё РїРѕСЂРѕР¶РґР°С‚СЊ РїРѕС‚РѕРјРєРѕРІ, С‡С‚РѕР±С‹ Р·Р°РїРѕР»РЅРёС‚СЊ РІС‚РѕСЂСѓСЋ РїРѕР»РѕРІРёРЅСѓ РЅРѕРІРѕР№ РїРѕРїСѓР»СЏС†РёРё.</td></tr><tr><td class="line-number" value="160"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="161"></td><td class="line-content">РЎРїРёСЃРѕРє С…СЂРѕРјРѕСЃРѕРј СѓР¶Рµ РѕС‚СЃРѕСЂС‚РёСЂРѕРІР°РЅ РїРѕ СЂРµР№С‚РёРЅРіСѓ Рё РїРѕСЌС‚РѕРјСѓ Р·Р°РґР°С‡Р° СЃРµР»РµРєС†РёРё СЂРµС€РµРЅР° (Р±РµСЂС‘Рј С‚РѕРї-10), РЅРѕ</td></tr><tr><td class="line-number" value="162"></td><td class="line-content">СЂР°РґРё Р±СѓРґСѓС‰РµР№ СЂРµР°Р»РёР·Р°С†РёРё РґСЂСѓРіРёС… РјРµС‚РѕРґРѕРІ РЅР°Рј РЅР°РґРѕ СЃРґРµР»Р°С‚СЊ С„РѕСЂРјР°Р»СЊРЅС‹Р№ РѕС‚Р±РѕСЂ. РўРѕ РµСЃС‚СЊ вЂ“ РїРѕРјРµСЃС‚РёРј РЅР°С€РёС… РёР·Р±СЂР°РЅРЅРёРєРѕРІ</td></tr><tr><td class="line-number" value="163"></td><td class="line-content">РІ СЃРїРёСЃРѕРє "РІС‹Р¶РёРІС€РёС…".</td></tr><tr><td class="line-number" value="164"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="165"></td><td class="line-content">Р—Р°РІРµРґС‘Рј РґР»СЏ РІС‹Р¶РёРІС€РёС… СЃРїРёСЃРѕРє С„РёРєСЃРёСЂРѕРІР°РЅРЅРѕР№ РґР»РёРЅС‹ Р·Р°СЂР°РЅРµРµ Рё Р±СѓРґРµРј РёРј РїРѕР»СЊР·РѕРІР°С‚СЊСЃСЏ РІСЃС‘ РІСЂРµРјСЏ:</td></tr><tr><td class="line-number" value="166"></td><td class="line-content">'''</td></tr><tr><td class="line-number" value="167"></td><td class="line-content">survivors = [None] * (population_size // 2)</td></tr><tr><td class="line-number" value="168"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="169"></td><td class="line-content">population = create_population(population_size, chromo_size, gene_pool)</td></tr><tr><td class="line-number" value="170"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="171"></td><td class="line-content">iteration_count = 0</td></tr><tr><td class="line-number" value="172"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="173"></td><td class="line-content">while True:  </td></tr><tr><td class="line-number" value="174"></td><td class="line-content">    iteration_count += 1  #СЃС‡РµС‚С‡РёРє РїРѕРєРѕР»РµРЅРёСЏ</td></tr><tr><td class="line-number" value="175"></td><td class="line-content">    calc_rating(population, final_chromo) #СЂР°СЃС‡РµС‚ СЂРµР№С‚РёРЅРіР° РїРѕРїСѓР»СЏС†РёРё</td></tr><tr><td class="line-number" value="176"></td><td class="line-content">    sort_population(population) #СЃРѕСЂС‚РёСЂРѕРІРєР° РїРѕРїСѓР»СЏС†РёРё, РІ РЅР°С‡Р°Р»Рµ - СЌР»РёС‚Р°</td></tr><tr><td class="line-number" value="177"></td><td class="line-content">    print('*** ' + str(iteration_count) + ' ***')</td></tr><tr><td class="line-number" value="178"></td><td class="line-content">    print_population(population) #РїРµС‡Р°С‚Р°РµРј РїРѕРїСѓР»СЏС†РёСЋ</td></tr><tr><td class="line-number" value="179"></td><td class="line-content">    if population[0].rating == 0:   </td></tr><tr><td class="line-number" value="180"></td><td class="line-content">        '''</td></tr><tr><td class="line-number" value="181"></td><td class="line-content">        РџСЂРё РґРѕСЃС‚РёР¶РµРЅРёРё С†РµР»РµРІРѕР№ СЃС‚СЂРѕРєРё Сѓ РїРµСЂРІРѕР№ С…СЂРѕРјРѕСЃРѕРјС‹ РІ СЃРїРёСЃРєРµ Р±СѓРґРµС‚ СЂРµР№С‚РёРЅРі 0.</td></tr><tr><td class="line-number" value="182"></td><td class="line-content">        РћР±РЅР°СЂСѓР¶РёРІ С‚Р°РєРѕРµ СѓСЃР»РѕРІРёРµ, РјС‹ РїСЂРµРєСЂР°С‰Р°РµРј С†РёРєР», С‚Р°Рє РєР°Рє С†РµР»СЊ РґРѕСЃС‚РёРіРЅСѓС‚Р°.</td></tr><tr><td class="line-number" value="183"></td><td class="line-content">        РњС‹ С‚Р°РєР¶Рµ РїРµС‡Р°С‚Р°РµРј С‚РµРєСѓС‰СѓСЋ РїРѕРїСѓР»СЏС†РёСЋ РЅР° РєР°Р¶РґРѕРј С€Р°РіРµ С†РёРєР»Р°:</td></tr><tr><td class="line-number" value="184"></td><td class="line-content">        '''</td></tr><tr><td class="line-number" value="185"></td><td class="line-content">        break</td></tr><tr><td class="line-number" value="186"></td><td class="line-content">    if iteration_count==20:break</td></tr><tr><td class="line-number" value="187"></td><td class="line-content">    select(population, survivors)   #РѕС‚Р±РѕСЂ СЌР»РёС‚С‹ - СЂРѕРґРёС‚РµР»РµР№ РІ РїРµСЂРІСѓСЋ С‡Р°СЃС‚СЊ</td></tr><tr><td class="line-number" value="188"></td><td class="line-content">    repopulate(population, survivors, population_size // 2)   #РІС‚РѕСЂСѓСЋ С‡Р°СЃС‚СЊ РїРѕРїСѓР»СЏС†РёРё Р·Р°РїРѕР»СЏРЅРµРј РґРµС‚СЊРјРё</td></tr><tr><td class="line-number" value="189"></td><td class="line-content">    mutate(population, 10, 1, gene_pool) #РІС‹РїРѕР»РЅСЏРµРј РјСѓС‚Р°С†РёСЋ РїРѕ 1 РіРµРЅСѓ<span class="html-end-of-file"></span></td></tr></tbody></table></body></html>